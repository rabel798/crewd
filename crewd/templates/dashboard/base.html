{% extends 'base.html' %}

{% block extra_head %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/dashboard.css">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Sidebar Navigation -->
    <div class="sidebar">
        <nav class="vertical-nav">
            {% if user.role == 'applicant' %}
                <!-- Applicant Navigation -->
                <div class="nav-section">Applicant Dashboard</div>
                <li class="nav-item">
                    <a href="{% url 'dashboard_applicant' %}" class="nav-link {% if active_tab == 'dashboard' %}active{% endif %}">
                        <i class="fas fa-home nav-icon"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'dashboard_switch_role' %}" class="nav-link">
                        <i class="fas fa-exchange-alt nav-icon"></i>
                        <span class="nav-text">Switch to Team Leader</span>
                    </a>
                </li>
                
                <div class="nav-divider"></div>
                <div class="nav-section">Explore</div>
                
                <li class="nav-item">
                    <a href="{% url 'contributors_list' %}" class="nav-link {% if active_tab == 'contributors' %}active{% endif %}">
                        <i class="fas fa-users nav-icon"></i>
                        <span class="nav-text">Contributors</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'projects_list' %}" class="nav-link {% if active_tab == 'projects' %}active{% endif %}">
                        <i class="fas fa-project-diagram nav-icon"></i>
                        <span class="nav-text">Projects</span>
                    </a>
                </li>
                
                <div class="nav-divider"></div>
                <div class="nav-section">My Activity</div>
                
                <li class="nav-item">
                    <a href="{% url 'invitations_list' %}" class="nav-link {% if active_tab == 'invitations' %}active{% endif %}">
                        <i class="fas fa-envelope nav-icon"></i>
                        <span class="nav-text">Invitations</span>
                        {% if pending_invitations_count > 0 %}
                            <span class="badge bg-primary ms-auto">{{ pending_invitations_count }}</span>
                        {% endif %}
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'my_contributions' %}" class="nav-link {% if active_tab == 'contributions' %}active{% endif %}">
                        <i class="fas fa-code-branch nav-icon"></i>
                        <span class="nav-text">My Contributions</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'groups_list' %}" class="nav-link {% if active_tab == 'groups' %}active{% endif %}">
                        <i class="fas fa-comments nav-icon"></i>
                        <span class="nav-text">Groups</span>
                    </a>
                </li>
                
            {% elif user.role == 'leader' %}
                <!-- Team Leader Navigation -->
                <div class="nav-section">Team Leader Dashboard</div>
                <li class="nav-item">
                    <a href="{% url 'dashboard_leader' %}" class="nav-link {% if active_tab == 'dashboard' %}active{% endif %}">
                        <i class="fas fa-home nav-icon"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'dashboard_switch_role' %}" class="nav-link">
                        <i class="fas fa-exchange-alt nav-icon"></i>
                        <span class="nav-text">Switch to Applicant</span>
                    </a>
                </li>
                
                <div class="nav-divider"></div>
                <div class="nav-section">Projects</div>
                
                <li class="nav-item">
                    <a href="{% url 'my_projects' %}" class="nav-link {% if active_tab == 'my_projects' %}active{% endif %}">
                        <i class="fas fa-folder-open nav-icon"></i>
                        <span class="nav-text">My Projects</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'create_project' %}" class="nav-link {% if active_tab == 'create_project' %}active{% endif %}">
                        <i class="fas fa-plus-circle nav-icon"></i>
                        <span class="nav-text">Create Project</span>
                    </a>
                </li>
                
                <div class="nav-divider"></div>
                <div class="nav-section">Team Management</div>
                
                <li class="nav-item">
                    <a href="{% url 'applications_list' %}" class="nav-link {% if active_tab == 'applications' %}active{% endif %}">
                        <i class="fas fa-tasks nav-icon"></i>
                        <span class="nav-text">Applications</span>
                        {% if pending_applications_count > 0 %}
                            <span class="badge bg-primary ms-auto">{{ pending_applications_count }}</span>
                        {% endif %}
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'sent_invitations' %}" class="nav-link {% if active_tab == 'sent_invitations' %}active{% endif %}">
                        <i class="fas fa-paper-plane nav-icon"></i>
                        <span class="nav-text">Sent Invitations</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'groups_list' %}" class="nav-link {% if active_tab == 'groups' %}active{% endif %}">
                        <i class="fas fa-comments nav-icon"></i>
                        <span class="nav-text">Groups</span>
                    </a>
                </li>
                
            {% endif %}
            
            <div class="nav-divider"></div>
            <li class="nav-item">
                <a href="{% url 'accounts:profile' %}" class="nav-link {% if active_tab == 'profile' %}active{% endif %}">
                    <i class="fas fa-user nav-icon"></i>
                    <span class="nav-text">My Profile</span>
                </a>
            </li>
        </nav>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        {% block dashboard_content %}{% endblock %}
    </div>
</div>
{% endblock %}
